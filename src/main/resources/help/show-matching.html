<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show Matching - TVRenamer Help</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a href="index.html" class="back-link">&larr; Back to Help Index</a>

    <h1>Show Matching</h1>

    <p>TVRenamer extracts show names from filenames and looks them up on TheTVDB. This page explains how to handle matching issues.</p>

    <h2>How Matching Works</h2>
    <ol>
        <li>TVRenamer extracts the show name from the filename</li>
        <li>It normalizes the name (removes punctuation, converts to lowercase)</li>
        <li>It searches TheTVDB for matching shows</li>
        <li>Results are matched against your files</li>
    </ol>

    <h2>Show Overrides</h2>
    <p>Override the extracted show name before searching. This helps when:</p>
    <ul>
        <li>Your filenames use abbreviations (e.g., "CoA" instead of "Crown of Ages")</li>
        <li>The show name is misspelled in your files</li>
        <li>You want to force a specific search term</li>
    </ul>

    <h3>Adding an Override</h3>
    <ol>
        <li>Open <strong>Preferences</strong> &rarr; <strong>Matching</strong> tab</li>
        <li>In the <strong>Overrides</strong> section, enter the extracted name and the replacement</li>
        <li>Click <strong>Add / Update</strong>, then <strong>Save</strong></li>
    </ol>

    <div class="tip">
        <strong>Shortcut:</strong> When a show can't be found, the Proposed File Path column shows a
        clickable <em>"click to set Hint"</em> link. Clicking it opens Preferences directly on the
        Matching tab with the show name already filled in &mdash; just type the correct name and save.
        Any unfound shows whose override changed are automatically retried when you save.
    </div>

    <h3>Override Examples</h3>
    <table>
        <tr>
            <th>Filename Pattern</th>
            <th>Extracted Name</th>
            <th>Override To</th>
        </tr>
        <tr>
            <td><code>CoA.S01E01.mkv</code></td>
            <td>CoA</td>
            <td>Crown of Ages</td>
        </tr>
        <tr>
            <td><code>TSE.S01E01.mkv</code></td>
            <td>TSE</td>
            <td>The Spark Effect</td>
        </tr>
        <tr>
            <td><code>StarVoyagers.TNF.S01E01.mkv</code></td>
            <td>StarVoyagers TNF</td>
            <td>Star Voyagers The New Frontier</td>
        </tr>
    </table>

    <h2>Show Disambiguation</h2>
    <p>When TheTVDB returns multiple shows matching your search, TVRenamer prompts you to choose the correct one.</p>

    <h3>Disambiguation Dialog</h3>
    <p>The dialog shows candidate shows sorted by match confidence:</p>
    <ul>
        <li><strong>Show name</strong> - The official title. The best match is marked with
            <strong>&starf; Recommended</strong> and a similarity percentage when confidence is high.</li>
        <li><strong>Year</strong> - First aired year (helps distinguish reboots)</li>
        <li><strong>TVDB ID</strong> - Unique identifier</li>
        <li><strong>Aliases</strong> - Alternative names</li>
    </ul>

    <h3>Remembered Selections</h3>
    <p>Your disambiguation choice is saved automatically. Future files with the same query will use your selection without prompting.</p>

    <h3>Clearing a Remembered Selection</h3>
    <ol>
        <li>Open <strong>Preferences</strong></li>
        <li>Find "Remembered Disambiguations"</li>
        <li>Find and remove the entry you want to reset</li>
    </ol>

    <h2>Automatic Selection</h2>
    <p>TVRenamer automatically selects a show without prompting when:</p>
    <ul>
        <li>Only one show matches the search</li>
        <li>One show is an exact (case-insensitive) match for the query</li>
        <li>You have a remembered disambiguation for that query</li>
        <li>Fuzzy matching finds a strong candidate (&ge;80% similarity with a clear lead over other options)</li>
    </ul>
    <p>Fuzzy matching uses edit-distance comparison, so minor typos or small naming variations
       (e.g., "Crwon of Ages" vs "Crown of Ages") are resolved automatically.</p>

    <h2>Troubleshooting Match Issues</h2>

    <h3>Show Not Found</h3>
    <p>When a show can't be found, the Proposed File Path column displays a
       <em>"click to set Hint"</em> link. Click it to jump straight to the
       Preferences Matching tab with the show name pre-filled, then type the
       correct TheTVDB name and save.</p>
    <p>Other things to try:</p>
    <ul>
        <li>Check the spelling in your filename</li>
        <li>Search <a href="https://thetvdb.com">TheTVDB</a> directly to verify the show exists and find its exact name</li>
    </ul>

    <h3>Wrong Show Selected</h3>
    <ul>
        <li>Clear the remembered disambiguation in Preferences</li>
        <li>Re-add the files to trigger a new lookup</li>
        <li>Select the correct show when prompted</li>
    </ul>

    <h3>Wrong Episodes</h3>
    <ul>
        <li>Check your Episode Ordering preference (Aired vs DVD)</li>
        <li>Some shows have different numbering between versions</li>
        <li>Verify your files use the expected numbering scheme</li>
    </ul>

    <div class="tip">
        <strong>Tip:</strong> If a show has both US and UK versions (like "The Bullpen"), use the year to distinguish them. Adding an override like "The Bullpen US" &rarr; "The Bullpen (US)" can help.
    </div>

    <hr>
    <p><a href="index.html">&larr; Back to Help Index</a></p>
</body>
</html>
